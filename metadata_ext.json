{
  "run_stamp": "20250822-214448",
  "best_experiment": "tfidf_char_linsvm",
  "best_params": {
    "clf__C": 2.0,
    "prep__do_normalize": true,
    "prep__lowercase": null,
    "vec__max_features": 150000,
    "vec__min_df": 3,
    "vec__ngram_range": [
      2,
      5
    ]
  },
  "validation_results": [
    {
      "exp": "tfidf_char_linsvm",
      "best_params": {
        "clf__C": 2.0,
        "prep__do_normalize": true,
        "prep__lowercase": null,
        "vec__max_features": 150000,
        "vec__min_df": 3,
        "vec__ngram_range": [
          2,
          5
        ]
      },
      "val_acc": 0.9863325740318907,
      "val_f1_macro": 0.9865303362699933,
      "val_f1_micro": 0.9863325740318907,
      "train_time_sec": 60.74825954437256
    },
    {
      "exp": "count_char_nb",
      "best_params": {
        "clf__alpha": 0.5,
        "prep__do_normalize": true,
        "prep__lowercase": null,
        "vec__max_features": 150000,
        "vec__min_df": 5,
        "vec__ngram_range": [
          2,
          5
        ]
      },
      "val_acc": 0.9776765375854214,
      "val_f1_macro": 0.978462413266174,
      "val_f1_micro": 0.9776765375854214,
      "train_time_sec": 182.3767385482788
    },
    {
      "exp": "xgb_tfidf_word",
      "best_params": {
        "clf__estimator__learning_rate": 0.15,
        "clf__estimator__max_depth": 5,
        "clf__estimator__n_estimators": 300,
        "prep__do_normalize": true,
        "prep__lowercase": null,
        "svd__n_components": 256
      },
      "val_acc": 0.9567198177676538,
      "val_f1_macro": 0.9561810805801959,
      "val_f1_micro": 0.9567198177676538,
      "train_time_sec": 346.69156527519226
    },
    {
      "exp": "tfidf_word_logreg",
      "best_params": {
        "clf__C": 2.0,
        "prep__do_normalize": true,
        "prep__lowercase": null,
        "vec__max_features": 200000,
        "vec__min_df": 3,
        "vec__ngram_range": [
          1,
          2
        ]
      },
      "val_acc": 0.952619589977221,
      "val_f1_macro": 0.9534950661134377,
      "val_f1_micro": 0.952619589977221,
      "train_time_sec": 17.63552975654602
    },
    {
      "exp": "w2v_logreg",
      "best_params": {
        "clf__C": 2.0,
        "prep__do_normalize": true,
        "prep__lowercase": null,
        "w2v__size": 150,
        "w2v__window": 5
      },
      "val_acc": 0.9494305239179954,
      "val_f1_macro": 0.9498176957973289,
      "val_f1_micro": 0.9494305239179954,
      "train_time_sec": 80.22591304779053
    },
    {
      "exp": "d2v_logreg",
      "best_params": {
        "clf__C": 2.0,
        "d2v__size": 150,
        "d2v__window": 5,
        "prep__do_normalize": true,
        "prep__lowercase": null
      },
      "val_acc": 0.7849658314350797,
      "val_f1_macro": 0.7921338430152882,
      "val_f1_micro": 0.7849658314350797,
      "train_time_sec": 163.41110491752625
    }
  ],
  "test_metrics": {
    "accuracy": 0.9886415265788278,
    "macro_f1": 0.988870053939247,
    "micro_f1": 0.9886415265788278,
    "top3_acc": 0.9945479327578374,
    "confusion_matrix": [
      [
        100,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        99,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        99,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        100,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        0,
        99,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        0,
        0,
        99,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        2,
        0,
        0,
        98,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        109,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        99,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        99,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        94,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        98,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        99,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        5,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        96,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        99,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        99,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        98,
        0,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        100,
        0,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        96,
        0,
        0,
        0
      ],
      [
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        99,
        0,
        0
      ],
      [
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        99,
        0
      ],
      [
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        98
      ]
    ],
    "classes": [
      "Arabic",
      "Chinese",
      "Dutch",
      "English",
      "Estonian",
      "French",
      "Hindi",
      "Indonesian",
      "Japanese",
      "Korean",
      "Latin",
      "Persian",
      "Portuguese",
      "Pushto",
      "Romanian",
      "Russian",
      "Spanish",
      "Swedish",
      "Tamil",
      "Thai",
      "Turkish",
      "Urdu"
    ],
    "script_metrics": {
      "Arabic": {
        "precision": 1.0,
        "recall": 0.9775561097256857,
        "f1-score": 0.9886506935687264,
        "support": 401.0
      },
      "CJK": {
        "precision": 0.9949748743718593,
        "recall": 0.99,
        "f1-score": 0.9924812030075187,
        "support": 200.0
      },
      "Cyrillic": {
        "precision": 0.99,
        "recall": 0.99,
        "f1-score": 0.99,
        "support": 100.0
      },
      "Devanagari": {
        "precision": 1.0,
        "recall": 0.98,
        "f1-score": 0.98989898989899,
        "support": 100.0
      },
      "Hangul": {
        "precision": 1.0,
        "recall": 0.99,
        "f1-score": 0.9949748743718593,
        "support": 100.0
      },
      "Latin": {
        "precision": 0.9847942754919499,
        "recall": 0.9990925589836661,
        "f1-score": 0.9918918918918919,
        "support": 1102.0
      },
      "Tamil": {
        "precision": 1.0,
        "recall": 0.9795918367346939,
        "f1-score": 0.9896907216494846,
        "support": 98.0
      },
      "Thai": {
        "precision": 1.0,
        "recall": 0.99,
        "f1-score": 0.9949748743718593,
        "support": 100.0
      },
      "accuracy": 0.9913675601999091,
      "macro avg": {
        "precision": 0.9962211437329762,
        "recall": 0.9870300631805058,
        "f1-score": 0.9915704060950412,
        "support": 2201.0
      },
      "weighted avg": {
        "precision": 0.9914758139329852,
        "recall": 0.9913675601999091,
        "f1-score": 0.9913605625503628,
        "support": 2201.0
      }
    },
    "script_confusion": [
      [
        392,
        0,
        0,
        0,
        0,
        9,
        0,
        0
      ],
      [
        0,
        198,
        0,
        0,
        0,
        2,
        0,
        0
      ],
      [
        0,
        0,
        99,
        0,
        0,
        1,
        0,
        0
      ],
      [
        0,
        0,
        0,
        98,
        0,
        2,
        0,
        0
      ],
      [
        0,
        1,
        0,
        0,
        99,
        0,
        0,
        0
      ],
      [
        0,
        0,
        1,
        0,
        0,
        1101,
        0,
        0
      ],
      [
        0,
        0,
        0,
        0,
        0,
        2,
        96,
        0
      ],
      [
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        99
      ]
    ],
    "classification_report_path": "artifacts\\classification_report_test_tfidf_char_linsvm.json",
    "errors_csv_path": "artifacts\\errors_test_tfidf_char_linsvm.csv"
  },
  "seed": 42,
  "notes": {
    "split_by_groups": true,
    "normalization": "prep__do_normalize=True; lowercase=None/True (word TF-IDF)",
    "vectorizers": "TF-IDF (char/word), Count (char), W2V/D2V",
    "xgb": "TF-IDF word + SVD + XGB (gpu_hist opcional) via LabelEncodedClassifier",
    "script_groups": [
      "Arabic",
      "CJK",
      "Cyrillic",
      "Devanagari",
      "Hangul",
      "Latin",
      "Tamil",
      "Thai"
    ]
  },
  "splits": {
    "sizes": {
      "train": 17603,
      "val": 2195,
      "test": 2201
    },
    "class_distribution": {
      "train": {
        "Arabic": 799,
        "Chinese": 800,
        "Dutch": 796,
        "English": 800,
        "Estonian": 800,
        "French": 802,
        "Hindi": 801,
        "Indonesian": 791,
        "Japanese": 800,
        "Korean": 800,
        "Latin": 809,
        "Persian": 800,
        "Portuguese": 800,
        "Pushto": 799,
        "Romanian": 800,
        "Russian": 800,
        "Spanish": 801,
        "Swedish": 801,
        "Tamil": 804,
        "Thai": 800,
        "Turkish": 800,
        "Urdu": 800
      },
      "val": {
        "Arabic": 101,
        "Chinese": 100,
        "Dutch": 104,
        "English": 100,
        "Estonian": 100,
        "French": 99,
        "Hindi": 99,
        "Indonesian": 100,
        "Japanese": 100,
        "Korean": 100,
        "Latin": 95,
        "Persian": 100,
        "Portuguese": 100,
        "Pushto": 100,
        "Romanian": 100,
        "Russian": 100,
        "Spanish": 100,
        "Swedish": 99,
        "Tamil": 98,
        "Thai": 100,
        "Turkish": 100,
        "Urdu": 100
      },
      "test": {
        "Arabic": 100,
        "Chinese": 100,
        "Dutch": 99,
        "English": 100,
        "Estonian": 100,
        "French": 99,
        "Hindi": 100,
        "Indonesian": 109,
        "Japanese": 100,
        "Korean": 100,
        "Latin": 96,
        "Persian": 100,
        "Portuguese": 100,
        "Pushto": 101,
        "Romanian": 100,
        "Russian": 100,
        "Spanish": 99,
        "Swedish": 100,
        "Tamil": 98,
        "Thai": 100,
        "Turkish": 100,
        "Urdu": 100
      }
    }
  },
  "classes": [
    "Arabic",
    "Chinese",
    "Dutch",
    "English",
    "Estonian",
    "French",
    "Hindi",
    "Indonesian",
    "Japanese",
    "Korean",
    "Latin",
    "Persian",
    "Portuguese",
    "Pushto",
    "Romanian",
    "Russian",
    "Spanish",
    "Swedish",
    "Tamil",
    "Thai",
    "Turkish",
    "Urdu"
  ],
  "label_to_index": {
    "Arabic": 0,
    "Chinese": 1,
    "Dutch": 2,
    "English": 3,
    "Estonian": 4,
    "French": 5,
    "Hindi": 6,
    "Indonesian": 7,
    "Japanese": 8,
    "Korean": 9,
    "Latin": 10,
    "Persian": 11,
    "Portuguese": 12,
    "Pushto": 13,
    "Romanian": 14,
    "Russian": 15,
    "Spanish": 16,
    "Swedish": 17,
    "Tamil": 18,
    "Thai": 19,
    "Turkish": 20,
    "Urdu": 21
  },
  "artifacts": {
    "log_path": "artifacts\\run_20250822-214448.txt",
    "plots_dir": "artifacts\\plots_20250822-214448",
    "model_path": "artifacts\\best_langid_tfidf_char_linsvm.joblib",
    "metadata_path": "artifacts\\metadata_ext.json",
    "validation_csv": "artifacts\\validation_results.csv",
    "classification_report_json": "artifacts\\classification_report_test_tfidf_char_linsvm.json",
    "errors_csv": "artifacts\\errors_test_tfidf_char_linsvm.csv",
    "dup_leakage_json": "artifacts\\diag_text_leakage.json",
    "oof_report": "artifacts\\oof_report_tfidf_char_linsvm.json",
    "learning_curve_csv": "artifacts\\learning_curve_tfidf_char_linsvm.csv",
    "y_scramble_csv": "artifacts\\diag_y_scramble_tfidf_char_linsvm.csv"
  },
  "search": {
    "use_halving": false,
    "cv_folds": 3,
    "gridsearch_n_jobs": 24,
    "gridsearch_backend": "loky"
  }
}